<!DOCTYPE html>
<html>
<head>
<title>character Scrolling Refined</title>

<script src="js/css-prefix-finder.js"></script>

<script type="text/javascript">

function update(){

	if(Math.abs(character1.rotate) > character1.rotateMax){
		character1.rotate = 0;
		character1.rotateDirection = character1.rotateDirection * -1;
	}else{
		character1.rotate = (Math.abs(character1.rotate) + 1) * character1.rotateDirection;
	}

	character1.style[ transformstring ] = "rotate("+character1.rotate+"deg)";

}


function characterLayer(imageURL, width, height, x, y, className){

	var character = document.createElement("div");


	character.rotate = 5;
	character.rotateMax = 5;
	character.rotateDirection = 1;



	character.dataset.x = x;
	character.dataset.y = y;
	character.dataset.width = width;
	character.dataset.height = height;	

	character.className = (className) ? className : "";
	character.style.background = "url(" + imageURL + ")";
	character.style.width = width + "px";
	character.style.height = height + "px";
	character.style.backgroundSize = width + "px " + height + "px";
	character.style.position = "absolute";
	character.style.display = "block";
	character.style[transformstring + "Origin"] = "0px 0px";

	document.body.appendChild(character);
	return character;
}

var character1;

function prepareExample() {

    prepareCSSPrefix();
    
	character1 = characterLayer("image/actor/puppy.png", 160, 225, 0, 0, "");

	setInterval(update, 1000 / 30);
}



</script>

</head>
<body onLoad="prepareExample();">
</body>
</html>
